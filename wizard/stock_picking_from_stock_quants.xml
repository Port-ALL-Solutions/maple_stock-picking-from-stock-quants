<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record model="ir.ui.view" id="stock_picking_from_stock_quants_view">
            <field name="name">Create Stock Picking from Quants</field>
            <field name="model">stock.picking_from_quants</field>
                <field name="arch" type="xml">
                    <form string="Create Stock Picking from Quants">
                    	<sheet>
                    		<group><h1>Stock Picking</h1></group>
                    		<group>
	                            <field name="location_source_id"/>
	                            <field name="picking_type_id"/>
	                            <field name="location_dest_id"/>
                    		</group>
                    		<group>
	                            <field name="date_planed"/>
	                            <field name="note"/>
                    		</group>
                    		<group>
	                            <field name="maple_producer" readonly="1"/>
  	                            <field name="partner_street" readonly="1"/>
  	                            <field name="partner_city" readonly="1"/>
  	                            <field name="partner_state" readonly="1"/>
  	                            <field name="partner_region" readonly="1"/>
                    		</group>
                    		<group>
	                            <field name="related_ids"/>
                    		</group>
                    		<group>
	                            <field name="related_ids"/>
                    		</group>
							<notebook>                    		
                    			<page string="Products">
                    				<field name="quants_line">
                    					<tree string="Quants selected">
											<field name="id"/>
											<field name="quant_serial"/>
										</tree>
									</field>
								</page>
							</notebook>	
	                        <footer>
	                            <button string="Create" name="action_create_picking_from_quants" type="object" class="oe_highlight"/>
	                            or
	                            <button string="Cancel" class="oe_link" special="cancel"/>
	                        </footer>                    		
                        </sheet>
                    </form>
                </field>
        </record>

        <act_window id="action_create_picking_from_quant"
            multi="True" view_id="stock_picking_from_stock_quants_view"
            key2="client_action_multi" name="Create Picking"
            res_model="stock.picking_from_quants" src_model="stock.quant"
            view_mode="form" target="new" view_type="form" />

        <act_window id="action_add_quant_to_picking"
            multi="True"
            key2="client_action_multi" 
            name="Add to picking"
            res_model="stock.picking_from_quants" 
            src_model="stock.quant"
            view_mode="form" 
            target="new" 
            view_type="form" />


        <act_window id="action_create_picking_from_quants2"
            multi="True" 
            view_id="stock_picking_from_stock_quants_view"
            key2="client_action_multi" 
            name="Create picking 2"
            res_model="stock.quant" 
            src_model="stock.quant"
            view_mode="form" 
            target="new" 
            view_type="form" />

		<record id="action_create_picking_from_quants3" model="ir.actions.server">
            <field name="name">Create picking 3</field>
            <field name="type">ir.actions.server</field>            
            <field name="model_id" ref="stock.model_stock_quant"/>
            <field name="state">code</field>
            <field name="code">action = object.action_create_picking_from_quants2(cr, uid, context.get('active_ids', []), context=context)</field>
        </record>
        
        <record id="test_more_item" model="ir.values">
            <field name="key2" eval="'client_action_multi'"/>
            <field name="model" eval="'stock.quant'"/>
            <field name="name">Test Item</field>
            <field eval="'ir.actions.server,%d'%action_create_picking_from_quants3" name="value"/>
        </record>

   </data>
</openerp>